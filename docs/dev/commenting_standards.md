# 注释规范

## 🎯 目标

本文档为 FastQTools 项目定义了统一的 C++ 注释标准。遵循本规范旨在提高代码的可读性和可维护性，并为使用 Doxygen 自动生成高质量的 API 文档提供支持。

所有公共 API（头文件中的类、函数、枚举等）都**必须**有符合本规范的注释。

## 📜 通用准则

- **语言**: 所有注释都应使用**中文**编写。
- **风格**: 统一使用 Doxygen 注释风格。
- **目的**: 注释应解释“为什么”和“意图”，而不仅仅是“做什么”。代码本身应该能够清晰地表达“做什么”。

## 📝 注释格式标准

### 1. 文件头注释

每个头文件 (`.h`) 都应在文件顶部包含一个文件头注释。

```cpp
/**
 * @file file_name.h
 * @brief 对文件内容的简要描述 (一句话)。
 * @details 对文件内容的详细描述，包括其在模块或项目中的作用。
 * 
 * @author 作者名
 * @date 2025-07-31
 * @version 1.0
 * 
 * @copyright Copyright (c) 2025 BGI-Research
 */
```

### 2. 类/结构体注释

在每个公共的类或结构体定义之前，都必须有注释。

```cpp
/**
 * @brief 对类的简要描述 (一句话)。
 * @details 对类的详细描述，包括其设计目的、核心职责和使用示例。
 * 
 * @warning 使用此类时需要特别注意的警告信息。
 * @note 补充说明或需要注意的细节。
 */
class MyClassName {
    // ...
};
```

### 3. 函数/方法注释

在头文件中声明的每个公共函数/方法之前，都必须有注释。

```cpp
/**
 * @brief 函数功能的简要描述 (一句话)。
 * @details 对函数行为、算法或复杂逻辑的详细描述。
 * 
 * @param param_name 参数的描述。
 * @return 返回值的描述。
 * 
 * @pre 使用该函数前必须满足的前置条件。
 * @post 函数成功执行后保证满足的后置条件。
 * 
 * @throw ExceptionType 在何种情况下会抛出此异常。
 * 
 * @threadsafe 描述该函数的线程安全性 (例如：线程安全、非线程安全、可重入)。
 */
auto my_function(int param_name) -> bool;
```

### 4. 成员变量注释

对于公共的成员变量（虽然通常不推荐），必须添加注释。对于私有成员变量，建议添加注释。

```cpp
private:
    int m_read_count; ///< 已处理的 read 数量。
```

### 5. 枚举注释

```cpp
/**
 * @brief 描述该枚举代表的意义。
 */
enum class ReadStatus {
    Success, ///< 表示成功读取。
    EndOfFile, ///< 表示已到达文件末尾。
    Error      ///< 表示发生读取错误。
};
```

## 自动化与验证

本项目的 CI/CD 流水线集成了 Doxygen 的文档生成与验证。如果公共 API 缺少文档或文档格式不正确，CI 流程将会失败。这确保了所有代码贡献者都遵循此规范，并保证了 API 文档的实时性和准确性。
